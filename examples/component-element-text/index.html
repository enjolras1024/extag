<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Component, Element and Text - Extag</title>
  <style>
    .head {
      margin: 0;
    }
    .dark-bg {
      background-color: #666;
    }
  </style>
</head>
<body>
<h1>Component, Element and Text</h1>

<div id="panel"></div>

<script src="../../javascripts/extag-dom.js"></script>
<script src="../../javascripts/extag.js"></script>
<script>
  // 定义组件
  var Panel = Extag.defineClass({
    // constuctor: function Panel() { Extag.Component.apply(this, arguments) }, // ES5中如此调用Component的构造函数
    extends: Extag.Component,
    statics: {
      template:'<div class="panel" x:style="border: solid 2px @{color};">' +
                  '<h3 class="head" x:style="background-color: @{color};">' + 
                      '@{title}' +
                  '</h3>' +
                  '<div class="body" x:name="body">' + 
                  '</div>' +
              '</div>',
      attributes: ['title', 'color']
    }
  });
  // 创建组件
  var panel = new Panel();
  // 创建元素和文本
  var svg = new Extag.Element({tag: 'svg', ns: 'svg'}); // ns为元素的命名空间
  var rect = new Extag.Element({tag: 'rect', ns: 'svg'}); 
  var span = new Extag.Element({tag: 'span'});
  var text = new Extag.Text('');
  // appendChild, insertChild, removeChild, replaceChild
  svg.appendChild(rect);
  span.appendChild(text);
  // 设置属性，样式等
  span.set('class', "dark-bg");
  span.set('title', "It's a rect");
  span.style.set('color', 'white');
  text.set('content', "It's a rect");
  rect.assign({
    width: 100, 
    height: 100,
    transform: 'translate(10, 10)'
  });
  rect.style.assign({
    fill: 'rgb(0, 120, 240)'
  });
  // 设置DOM属性或自定义特性
  panel.assign({
    title: 'SVG', 
    color: '#eee'
  }); 
  panel.on('mounted', function() {
    panel.body.setChildren([svg, span]);
  })
  // 附着到页面元素上
  panel.attach(ExtagDOM.query('#panel'));
</script>
</body>
</html>