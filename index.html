<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link href="stylesheets/codemirror.css" rel="stylesheet">
  <link href="stylesheets/alicestyle.css" rel="stylesheet">
  <link href="stylesheets/common.css" rel="stylesheet">
  <title>Extag</title>
  <style>
    .hello h1{
      color: #0066dd;
    }
  </style>
</head>
<body>
<div class="main">
  <aside class="side-bar">
  </aside>
  <article class="article">
    <h1>
      <!-- <div style="display: inline-block; position: relative; background: #06d; width: 64px; height: 64px; margin-right: 10px;">
        <div style="position: absolute; top: 50%; left: 50%; height: 75%; width: 25%; margin-left: -12.5%; margin-top: -37.5%; background: rgba(255,255,255,0.60); transform: skewX(35deg);"></div>
        <div style="position: absolute; top: 50%; left: 50%; height: 75%; width: 25%; margin-left: -12.5%; margin-top: -37.5%; background: rgba(255,255,255,1.00); transform: skewX(-35deg);"></div>
      </div> -->
      <span style="font-size: 85px;">Extag</span>
    </h1>
    <p>Extag是一个事件驱动和基于组件的JavaScript库，用于构建Web用户界面。Extag提供了一个由文本、元素、片段和组件构成的Shell层。其中，组件支持模板、数据绑定等，具有良好的可扩展性，能够更好地组织用户界面，管理数据状态。通过监听和派发自定义属性更改事件，内嵌在组件模板中的数据绑定表达式得以生效，从而能够动态地改变Shell层的内容。Shell层一旦发生变化，Extag就会通过ExtagDOM以异步批量的模式，将变化的部分渲染到真实的DOM层。</p>
    <h3 id="get-started">快速开始</h3>
    <p>使用script标签简单地引入Extag和ExtagDOM。Extag会通过ExtagDOM来进行DOM操作。</p>
    <div class="code-box scroll"><div class="CodeMirror cm-s-alice"><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"https://unpkg.com/extag"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">script</span> <span class="cm-attribute">src</span>=<span class="cm-string">"https://unpkg.com/extag-dom"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">script</span><span class="cm-tag cm-bracket">&gt;</span></span></pre></div></div></div>
    <p>如果使用ES6 Module的import，或CommonJS的require，导入Extag和ExtagDOM后，应当将Extag的视图引擎配置为ExtagDOM，</p>
    <div class="code-box scroll">
      <div class="CodeMirror cm-s-alice"><div class="CodeMirror-code">
        <pre class=" CodeMirror-line ">npm install extag</pre>
        <pre class=" CodeMirror-line ">npm install extag-dom</pre>
      </div></div>
    </div>
    <br>
    <div class="code-box scroll"><div class="CodeMirror cm-s-alice"><div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-def">Extag</span> <span class="cm-keyword">from</span> <span class="cm-string">"extag"</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword">import</span> <span class="cm-def">ExtagDOM</span> <span class="cm-keyword">from</span> <span class="cm-string">"extag-dom"</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable">Extag</span>.<span class="cm-property">conf</span>(<span class="cm-string">"view-engine"</span>, <span class="cm-variable">ExtagDOM</span>);</span></pre></div></div></div>
    <p>一个简单的Extag例子如下：</p>
    <div id="code-tabs-1"></div>
    <p>我们定义了一个Hello类，继承自Component。组件模板中使用了一个单向的数据绑定表达式<span class="expr">@{ name }</span>。包裹在<span class="expr">@{ }</span>内的自定义的特性<span class="expr">name</span>是可绑定的，其默认值为<span class="expr">'World'</span>。创建一个Hello类的实例，附着到页面上的一个元素上，<span class="expr">'Hello, World!'</span>的字样就会渲染到页面上。</p>
    <div id="hello"></div>
    <div class="tip-box"><p>你可以打开开发者工具，在控制台中改变<span class="expr">hello.name</span>的值，看看会发生什么。</p></div>
  </article>
</div>
<!--<footer class="footer">
  <p>Released under the MIT license<br>
    © 2015 Chen Junyong. All rights reserved.</p>
</footer>-->

<script src="javascripts/extag-dom.js"></script>
<script src="javascripts/extag.js"></script>
<script src="javascripts/common.js"></script>
<script>
  Extag.Component.create(CodeTabs, {
    data: [
      {label: 'ES5', content: '<div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 定义一个组件子类</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">Hello</span> <span class="cm-operator">=</span> <span class="cm-variable">Extag</span>.<span class="cm-property">defineClass</span>({</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-property">extends</span>: <span class="cm-variable">Extag</span>.<span class="cm-property">Component</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-property">statics</span>: {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-property">template</span>: <span class="cm-string">\'&lt;div class="hello"&gt;\'</span>  <span class="cm-operator">+</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-string">\'&lt;h1&gt;Hello, @{ name }!&lt;/h1&gt;\'</span> <span class="cm-operator">+</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">              <span class="cm-string">\'&lt;/div&gt;\'</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-property">attributes</span>: { <span class="cm-property">name</span>: <span class="cm-string">\'\'</span> }, <span class="cm-comment">// so `name` is bindable, the default value is \'\'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}); </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 创建一个组件实例</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">var</span> <span class="cm-def">hello</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Hello</span>({<span class="cm-property">name</span>: <span class="cm-string">\'World\'</span>});</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 附着到一个元素上</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">hello</span>.<span class="cm-property">attach</span>(<span class="cm-variable">ExtagDOM</span>.<span class="cm-property">query</span>(<span class="cm-string">\'#hello\'</span>)); <span class="cm-comment">// hello.attach(document.getElementById(\'hello\'));</span></span></pre></div>'},
      {label: 'ES6', content: '<div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 定义一个组件子类</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">Hello</span> <span class="cm-keyword">extends</span> <span class="cm-variable">Extag</span>.<span class="cm-property">Component</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-keyword">static</span> <span class="cm-keyword">get</span> <span class="cm-property">template</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">return</span>  <span class="cm-string-2">`&lt;div class="hello"&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                <span class="cm-string-2">&lt;h1&gt;Hello, @{ name }!&lt;/h1&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">            <span class="cm-string-2">&lt;/div&gt;`</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-keyword">static</span> <span class="cm-keyword">get</span> <span class="cm-property">attributes</span>() {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">    <span class="cm-keyword">return</span> { <span class="cm-property">name</span>: <span class="cm-string">\'\'</span> };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 创建一个组件实例</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">hello</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Hello</span>({<span class="cm-property">name</span>: <span class="cm-string">\'World\'</span>});</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 附着到一个元素上</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">hello</span>.<span class="cm-property">attach</span>(<span class="cm-variable">ExtagDOM</span>.<span class="cm-property">query</span>(<span class="cm-string">\'#hello\'</span>)); </span></pre></div>'},
      {label: 'ES7', content: '<div class="CodeMirror-code" role="presentation" style=""><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 定义一个组件子类</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> <span class="cm-def">Hello</span> <span class="cm-keyword">extends</span> <span class="cm-variable">Extag</span>.<span class="cm-property">Component</span> {</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-keyword">static</span> <span class="cm-property">template</span> <span class="cm-operator">=</span> <span class="cm-string-2">`&lt;div class="hello"&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                        <span class="cm-string-2">&lt;h1&gt;Hello, @{ name }!&lt;/h1&gt;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">                    <span class="cm-string-2">&lt;/div&gt;`</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  <span class="cm-variable">static</span> <span class="cm-variable">attributes</span> <span class="cm-operator">=</span> { <span class="cm-property">name</span>: <span class="cm-string">\'\'</span> };</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 创建一个组件实例</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">const</span> <span class="cm-def">hello</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">Hello</span>({<span class="cm-property">name</span>: <span class="cm-string">\'World\'</span>});</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// 附着到一个元素上</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">hello</span>.<span class="cm-variable">attach</span>(<span class="cm-variable">ExtagDOM</span>.<span class="cm-variable">query</span>(<span class="cm-string">\'#hello\'</span>)); </span></pre></div>'}
    ]
  }).attach(ExtagDOM.query('#code-tabs-1'));
</script>
<script>
  (function() {
    // 定义一个组件子类
    var Hello = Extag.defineClass({
      extends: Extag.Component,
      statics: {
        template: '<div class="hello">'  +
                    '<h1>Hello, @{ name }!</h1>' + 
                  '</div>',
        attributes: { name: '' }, // so `name` is bindable, the default value is ''
      }
    }); 
    // 创建一个组件实例
    var hello = new Hello({name: 'World'});
    // 附着到一个元素上
    hello.attach(ExtagDOM.query('#hello')); // hello.attach(document.getElementById('hello'));

    window.hello = hello;

    console.log('do something like:');
    console.log('hello.name = "Life";');
    console.log('hello.set("name", "Universe");');
    console.log('hello.assign({name: "Everything"});');
  })();
</script>
</body>
</html>